<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Search</title>
    <style>
        /* CSS стили здесь */
    </style>
</head>
<body>
    <div id="results">
        <!-- Здесь будут отображаться результаты вашего API -->
    </div>
    <button id="prevBtn">Предыдущая страница</button>
    <button id="nextBtn">Следующая страница</button>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const resultsDiv = document.getElementById("results");
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");

            let currentPage = 1;

            function fetchData(page) {
                fetch(`http://127.0.0.1:8000/api/search/?q=test&page=${page}`)
                    .then(response => response.json())
                    .then(data => {
                        // Очищаем предыдущие результаты
                        resultsDiv.innerHTML = "";

                        // Отображаем новые результаты
                        data.data.forEach(item => {
                            const div = document.createElement("div");
                            div.textContent = item;
                            resultsDiv.appendChild(div);
                        });

                        // Обновляем текущую страницу
                        currentPage = page;

                        // Показываем или скрываем кнопки
                        prevBtn.disabled = !data.meta.previous;
                        nextBtn.disabled = !data.meta.next;
                    })
                    .catch(error => console.error("Ошибка при запросе:", error));
            }

            // Запрашиваем первую страницу при загрузке страницы
            fetchData(currentPage);

            // Обработчики событий для кнопок
            prevBtn.addEventListener("click", () => {
                if (currentPage > 1) {
                    fetchData(currentPage - 1);
                }
            });

            nextBtn.addEventListener("click", () => {
                fetchData(currentPage + 1);
            });
        });
    </script>
</body>
</html>